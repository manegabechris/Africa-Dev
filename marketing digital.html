<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marketing Digital - Africa Dev
  </title>
  <link rel="stylesheet" href="Styles.CSS">
</head>
<body>

  <header>
    <h1>Marketing Digital</h1>
    <p>Africa Dev - Connecter, Cibler, Convertir</p>
  </header>

  <div class="container">
    <a class="btn" id="openModuleBtn" href="#">Voir le module : Marketing Digital</a>

    <p>Le marketing digital désigne l’ensemble des stratégies et techniques marketing qui utilisent les canaux numériques pour promouvoir des produits ou services et interagir avec les consommateurs. Il s’agit d’utiliser Internet et les technologies numériques (ordinateurs, smartphones, tablettes, objets connectés, etc.) pour :</p>

    <ol>
      <li>Accroître la visibilité d’une marque</li>
      <p>En se positionnant sur les moteurs de recherche (via le <strong>SEO</strong> et le <strong>SEA</strong>) ou en développant une présence active sur les réseaux sociaux.</p>

      <li>Générer et fidéliser des clients</li>
      <p>Grâce à des actions personnalisées, telles que l’<strong>emailing</strong>, le <strong>content marketing</strong> (création de contenus pertinents) ou encore l’<strong>inbound marketing</strong>.</p>

      <li>Mesurer précisément l’impact des actions marketing</li>
      <p>En s’appuyant sur des <strong>indicateurs (KPIs)</strong> et des outils d’analyse qui permettent d’ajuster les campagnes en temps réel pour optimiser le <strong>retour sur investissement</strong>.</p>
    </ol>

    <p>En résumé, le marketing digital se distingue du marketing traditionnel par sa capacité à offrir une communication <strong>bidirectionnelle, personnalisée et mesurable</strong>. Il permet aux entreprises d’atteindre des cibles spécifiques tout en adaptant rapidement leurs stratégies en fonction des données collectées.</p>

    <p>Dans un monde où le numérique est omniprésent, cette approche est devenue indispensable pour rester compétitif et connecté avec son audience.</p>
  </div>

  <!-- Module Modal -->
  <div id="moduleModal" class="modalOverlay" aria-hidden="true" role="dialog" aria-labelledby="moduleTitle">
    <div class="modal" role="document">
      <div class="modalHeader">
        <h2 id="moduleTitle">Module : Marketing Digital</h2>
        <button class="closeBtn" id="closeModalBtn" aria-label="Fermer la fenêtre">×</button>
      </div>
      <div class="moduleMeta">Durée estimée : <strong>5 semaines</strong> • Niveau : <strong>Débutant → Intermédiaire</strong></div>
      <p>Ce module couvre SEO, content marketing, réseaux sociaux, publicité payante et analytics.</p>
      <h3>Contenu</h3>
      <ul class="lessons">
        <li>Semaine 1 : Introduction & stratégie</li>
        <li>Semaine 2 : SEO & content</li>
        <li>Semaine 3 : Réseaux sociaux & community management</li>
        <li>Semaine 4 : Publicité (SEA) & acquisition</li>
        <li>Semaine 5 : Mesure & optimisation (analytics)</li>
      </ul>

      <div class="actions-row">
        <button id="enrollBtn" class="enrollBtn">S'inscrire au module</button>
        <button id="closeModalBtn2" class="closeBtn">Annuler</button>
      </div>
    </div>
  </div>

  <div id="moduleToast" class="toast" role="status" aria-live="polite"></div>

  <footer>
    &copy; 2025 Africa Dev. Tous droits réservés.
  </footer>

  <script>
    // Utilities
    function getCurrentUser(){ try { return JSON.parse(localStorage.getItem('currentUser')); } catch(e){ return null; } }
    function showModuleToast(msg, timeout=3500){ const t = document.getElementById('moduleToast'); t.textContent = msg; t.style.display = 'block'; clearTimeout(t._t); t._t = setTimeout(()=>{ t.style.display = 'none'; }, timeout); }

    // Modal elements
    const openBtn = document.getElementById('openModuleBtn');
    const modal = document.getElementById('moduleModal');
    const closeBtn = document.getElementById('closeModalBtn');
    const closeBtn2 = document.getElementById('closeModalBtn2');
    const enrollBtn = document.getElementById('enrollBtn');

    function openModal(){
      modal.classList.add('active');
      modal.setAttribute('aria-hidden','false');
      enrollBtn.focus();
      document.addEventListener('keydown', trapFocus);
      document.addEventListener('keydown', onEscClose);
    }
    function closeModal(){
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden','true');
      document.removeEventListener('keydown', trapFocus);
      document.removeEventListener('keydown', onEscClose);
      openBtn.focus();
    }

    function onEscClose(e){ if (e.key === 'Escape') closeModal(); }

    function trapFocus(e){
      if (e.key !== 'Tab') return;
      const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      if (!focusable.length) return;
      const first = focusable[0];
      const last = focusable[focusable.length -1];
      if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
    }

    // Enrollment logic
    function enroll(){
      const u = getCurrentUser();
      if (!u) {
        showModuleToast('Veuillez vous connecter ou vous inscrire pour accéder au module. Redirection...');
        setTimeout(()=> { window.location.href = 'inscription.html'; }, 1200);
        return;
      }
      const key = 'enrollments';
      const list = JSON.parse(localStorage.getItem(key) || '[]');
      const slug = 'marketing-digital';
      if (list.includes(slug)){
        showModuleToast('Vous êtes déjà inscrit à ce module.');
        enrollBtn.disabled = true;
        enrollBtn.textContent = 'Inscrit';
        return;
      }
      list.push(slug);
      localStorage.setItem(key, JSON.stringify(list));
      enrollBtn.disabled = true;
      enrollBtn.textContent = 'Inscrit';
      showModuleToast('Inscription réussie — bonne formation !');
      setTimeout(closeModal, 1300);
    }

    // Wire events
    openBtn.addEventListener('click', (e)=>{ e.preventDefault(); openModal(); });
    closeBtn.addEventListener('click', closeModal);
    closeBtn2.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if (e.target === modal) closeModal(); });
    enrollBtn.addEventListener('click', enroll);

    // Initialize enroll button state
    (function initEnrollState(){
      const list = JSON.parse(localStorage.getItem('enrollments') || '[]');
      if (list.includes('marketing-digital')){
        enrollBtn.disabled = true; enrollBtn.textContent = 'Inscrit';
      }
    })();
  </script>
</body>
</html>
